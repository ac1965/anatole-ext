{{ define "main" -}}

<h1>{{ .Title }}</h1>

{{ $dateTime := .PublishDate.Format "2006-01-02" -}}
{{ $dateFormat := .Site.Params.dateFormat | default "Jan 2, 2006" -}}

<div id="article-info">
    <span class="article-info-reading-time">{{ .ReadingTime }}-minute to read</span>
    <span id="article-info-tags">
        Tags — 
        {{ with .Params.tags -}}
        {{ range . -}}
        {{ $href := print (absURL "tags/") (urlize .) -}}
        <a class="article-info-tag" href="{{ $href }}">{{ . }}</a>
        {{ end -}}
        {{ end -}}
    </span>
    <span id="article-info-date">
        Posted at — <time datetime="{{ $dateTime }}">{{ .PublishDate.Format $dateFormat }}</time>
    </span>
</div>

<div id="TableOfContents-wrapper">
    <div id="TableOfContents-title">Table of Contents</div>
    {{ .TableOfContents -}}
</div>

<div id="article-content">
{{ .Content -}}
</div>

{{ $related := .Site.RegularPages.Related . | first 5 -}}
{{ with $related -}}
<h3>See Also</h3>
<ul>
    {{ range . -}}
    <li><a href="{{ .Permalink }}">{{ .Title }}</a></li>
    {{ end -}}
</ul>
{{ end -}}

{{ end -}}
